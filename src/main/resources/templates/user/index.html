<!DOCTYPE html>
<html
     xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
     <head th:replace="~{fragments/head :: head}">
          <title>Trang ch·ªß - Badminton Marketplace</title>
     </head>
     <body>
          <th:block th:replace="~{fragments/header :: header}"></th:block>

          <!-- Hero Slider Section -->
          <section class="hero-slider">
               <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                         <button
                              type="button"
                              data-bs-target="#heroCarousel"
                              data-bs-slide-to="0"
                              class="active"
                         ></button>
                         <button
                              type="button"
                              data-bs-target="#heroCarousel"
                              data-bs-slide-to="1"
                         ></button>
                         <button
                              type="button"
                              data-bs-target="#heroCarousel"
                              data-bs-slide-to="2"
                         ></button>
                    </div>
                    <div class="carousel-inner">
                         <div class="carousel-item active">
                              <div class="hero-slide hero-bg-1">
                                   <div class="container h-100">
                                        <div class="row h-100 align-items-center">
                                             <div class="col-lg-6 text-white">
                                                  <h1
                                                       class="display-3 fw-bold mb-4 animate-slide-in"
                                                  >
                                                       Ch√†o m·ª´ng ƒë·∫øn v·ªõi<br />Badminton Store
                                                  </h1>
                                                  <p class="lead mb-4 fs-4">
                                                       N∆°i h·ªôi t·ª• c·ªßa nh·ªØng tay v·ª£t chuy√™n nghi·ªáp
                                                  </p>
                                                  <div class="d-flex gap-3">
                                                       <a
                                                            th:href="@{/products}"
                                                            class="btn btn-light btn-lg px-5 py-3"
                                                       >
                                                            <i class="fas fa-shopping-bag me-2"></i
                                                            >Mua s·∫Øm ngay
                                                       </a>
                                                       <a
                                                            th:href="@{/about}"
                                                            class="btn btn-outline-light btn-lg px-5 py-3"
                                                       >
                                                            <i class="fas fa-info-circle me-2"></i
                                                            >T√¨m hi·ªÉu th√™m
                                                       </a>
                                                  </div>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                         </div>
                         <div class="carousel-item">
                              <div class="hero-slide hero-bg-2">
                                   <div class="container h-100">
                                        <div class="row h-100 align-items-center">
                                             <div class="col-lg-6 text-white">
                                                  <h1 class="display-3 fw-bold mb-4">
                                                       V·ª£t c·∫ßu l√¥ng<br />Ch√≠nh h√£ng 100%
                                                  </h1>
                                                  <p class="lead mb-4 fs-4">
                                                       T·ª´ c√°c th∆∞∆°ng hi·ªáu h√†ng ƒë·∫ßu th·∫ø gi·ªõi
                                                  </p>
                                                  <a
                                                       th:href="@{/products?category=rackets}"
                                                       class="btn btn-warning btn-lg px-5 py-3"
                                                  >
                                                       <i class="fas fa-bolt me-2"></i>Kh√°m ph√° ngay
                                                  </a>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                         </div>
                         <div class="carousel-item">
                              <div class="hero-slide hero-bg-3">
                                   <div class="container h-100">
                                        <div class="row h-100 align-items-center">
                                             <div class="col-lg-6 text-white">
                                                  <h1 class="display-3 fw-bold mb-4">
                                                       ∆Øu ƒë√£i<br />L√™n ƒë·∫øn 50%
                                                  </h1>
                                                  <p class="lead mb-4 fs-4">
                                                       Gi·∫£m gi√° s·ªëc cho m√πa gi·∫£i m·ªõi
                                                  </p>
                                                  <a
                                                       th:href="@{/promotions}"
                                                       class="btn btn-danger btn-lg px-5 py-3"
                                                  >
                                                       <i class="fas fa-tags me-2"></i>SƒÉn ngay
                                                  </a>
                                             </div>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>
                    <button
                         class="carousel-control-prev"
                         type="button"
                         data-bs-target="#heroCarousel"
                         data-bs-slide="prev"
                    >
                         <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button
                         class="carousel-control-next"
                         type="button"
                         data-bs-target="#heroCarousel"
                         data-bs-slide="next"
                    >
                         <span class="carousel-control-next-icon"></span>
                    </button>
               </div>
          </section>

          <!-- Categories Section -->
          <section class="categories-section py-5 bg-light">
               <div class="container">
                    <h2 class="text-center mb-5 fw-bold">Danh m·ª•c s·∫£n ph·∫©m</h2>
                    <div class="row g-4">
                         <!-- Category 1 -->
                         <div class="col-lg-3 col-md-6" th:if="${categories.size() > 0}">
                              <div class="category-card text-center">
                                   <div class="category-icon mb-3">
                                        <i class="fas fa-baseball-ball fa-4x text-primary"></i>
                                   </div>
                                   <h4 class="mb-3" th:text="${categories[0].name}">
                                        V·ª£t c·∫ßu l√¥ng
                                   </h4>
                                   <p class="text-muted mb-3">
                                        H∆°n
                                        <span th:text="${categoryCounts[categories[0].id]}">0</span>
                                        s·∫£n ph·∫©m
                                   </p>
                                   <a
                                        th:href="@{/products(category=${categories[0].id})}"
                                        class="btn btn-outline-primary"
                                   >
                                        Xem ngay
                                   </a>
                              </div>
                         </div>

                         <!-- Category 2 -->
                         <div class="col-lg-3 col-md-6" th:if="${categories.size() > 1}">
                              <div class="category-card text-center">
                                   <div class="category-icon mb-3">
                                        <i class="fas fa-shoe-prints fa-4x text-success"></i>
                                   </div>
                                   <h4 class="mb-3" th:text="${categories[1].name}">
                                        Gi√†y c·∫ßu l√¥ng
                                   </h4>
                                   <p class="text-muted mb-3">
                                        H∆°n
                                        <span th:text="${categoryCounts[categories[1].id]}">0</span>
                                        s·∫£n ph·∫©m
                                   </p>
                                   <a
                                        th:href="@{/products(category=${categories[1].id})}"
                                        class="btn btn-outline-success"
                                   >
                                        Xem ngay
                                   </a>
                              </div>
                         </div>

                         <!-- Category 3 -->
                         <div class="col-lg-3 col-md-6" th:if="${categories.size() > 2}">
                              <div class="category-card text-center">
                                   <div class="category-icon mb-3">
                                        <i class="fas fa-tshirt fa-4x text-warning"></i>
                                   </div>
                                   <h4 class="mb-3" th:text="${categories[2].name}">
                                        Qu·∫£ c·∫ßu & Ph·ª• ki·ªán
                                   </h4>
                                   <p class="text-muted mb-3">
                                        H∆°n
                                        <span th:text="${categoryCounts[categories[2].id]}">0</span>
                                        s·∫£n ph·∫©m
                                   </p>
                                   <a
                                        th:href="@{/products(category=${categories[2].id})}"
                                        class="btn btn-outline-warning"
                                   >
                                        Xem ngay
                                   </a>
                              </div>
                         </div>

                         <!-- Category 4 -->
                         <div class="col-lg-3 col-md-6" th:if="${categories.size() > 3}">
                              <div class="category-card text-center">
                                   <div class="category-icon mb-3">
                                        <i class="fas fa-briefcase fa-4x text-danger"></i>
                                   </div>
                                   <h4 class="mb-3" th:text="${categories[3].name}">Ph·ª• ki·ªán</h4>
                                   <p class="text-muted mb-3">
                                        H∆°n
                                        <span th:text="${categoryCounts[categories[3].id]}">0</span>
                                        s·∫£n ph·∫©m
                                   </p>
                                   <a
                                        th:href="@{/products(category=${categories[3].id})}"
                                        class="btn btn-outline-danger"
                                   >
                                        Xem ngay
                                   </a>
                              </div>
                         </div>
                    </div>
               </div>
          </section>

          <!-- Featured Products -->
          <section class="featured-products py-5">
               <div class="container">
                    <div class="d-flex justify-content-between align-items-center mb-5">
                         <h2 class="fw-bold mb-0">S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
                         <a th:href="@{/products}" class="btn btn-link text-decoration-none">
                              Xem t·∫•t c·∫£ <i class="fas fa-arrow-right ms-2"></i>
                         </a>
                    </div>
                    <div class="row g-4">
                         <div th:each="product : ${topProducts}" class="col-lg-3 col-md-4 col-sm-6">
                              <div class="product-card h-100">
                                   <div class="product-image-wrapper">
                                        <img
                                             th:src="${product.firstImage}"
                                             class="product-image"
                                             th:alt="${product.name}"
                                        />
                                        <div class="product-overlay">
                                             <a
                                                  th:href="@{/products/{id}(id=${product.id})}"
                                                  class="btn btn-light btn-sm"
                                             >
                                                  <i class="fas fa-eye me-1"></i> Xem chi ti·∫øt
                                             </a>
                                        </div>
                                        <div
                                             class="product-badge"
                                             th:if="${product.promotionalPrice}"
                                        >
                                             <span class="badge bg-danger">SALE</span>
                                        </div>
                                   </div>
                                   <div class="product-info p-3">
                                        <h5 class="product-title mb-2" th:text="${product.name}">
                                             Product Name
                                        </h5>

                                        <!-- ‚≠ê Rating -->
                                        <div
                                             class="product-rating mb-2"
                                             th:with="
                                             raw=${product.rating != null ? product.rating : 0},
                                             r=${raw > 5 ? 5 : (raw < 0 ? 0 : raw)},
                                             full=${T(java.lang.Math).floor(r)},
                                             hasHalf=${(r - full) >= 0.5},
                                             halfCount=${hasHalf ? 1 : 0},
                                             empty=${5 - full - halfCount}
                                        "
                                        >
                                             <!-- full stars -->
                                             <span th:each="i : ${#numbers.sequence(1, full)}">
                                                  <i class="fas fa-star text-warning"></i>
                                             </span>

                                             <!-- half star -->
                                             <i
                                                  class="fas fa-star-half-alt text-warning"
                                                  th:if="${hasHalf}"
                                             ></i>

                                             <!-- empty stars -->
                                             <span th:each="i : ${#numbers.sequence(1, empty)}">
                                                  <i class="far fa-star text-warning"></i>
                                             </span>

                                             <span class="text-muted ms-2"
                                                  >( <span th:text="${raw}">0</span> )</span
                                             >
                                        </div>

                                        <!-- üí∞ Price -->
                                        <div class="product-price">
                                             <span
                                                  class="price-current fw-bold fs-5 text-danger"
                                                  th:text="${#numbers.formatDecimal(
                                                            product.promotionalPrice != null ? product.promotionalPrice : product.price,
                                                            0,'POINT',0,'COMMA'
                                                        )} + ' ƒë'"
                                             >
                                                  0 ƒë
                                             </span>

                                             <span
                                                  th:if="${product.promotionalPrice != null}"
                                                  class="price-original text-muted text-decoration-line-through ms-2"
                                                  th:text="${#numbers.formatDecimal(
                                                            product.price,
                                                            0,'POINT',0,'COMMA'
                                                        )} + ' ƒë'"
                                             >
                                                  0 ƒë
                                             </span>
                                        </div>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
          </section>

          <!-- Promotion Banner -->
          <section class="promotion-banner py-5 bg-gradient">
               <div class="container">
                    <div class="row align-items-center">
                         <div class="col-md-6 text-white">
                              <h2 class="display-5 fw-bold mb-3">Khuy·∫øn m√£i ƒë·∫∑c bi·ªát</h2>
                              <p class="lead mb-4">
                                   Gi·∫£m gi√° l√™n ƒë·∫øn 50% cho c√°c s·∫£n ph·∫©m ch√≠nh h√£ng. Nhanh tay s·ªü
                                   h·ªØu ngay!
                              </p>
                              <a
                                   href="#featured-products-section"
                                   class="btn btn-light btn-lg"
                                   onclick="event.preventDefault(); document.getElementById('featured-products-section').scrollIntoView({behavior: 'smooth'});"
                              >
                                   <i class="fas fa-gift me-2"></i>Xem ∆∞u ƒë√£i
                              </a>
                         </div>
                         <div class="col-md-6 text-center">
                              <i class="fas fa-gifts fa-10x text-white opacity-75"></i>
                         </div>
                    </div>
               </div>
          </section>

          <!-- Features Section -->
          <section class="features-section py-5">
               <div class="container">
                    <div class="row g-4">
                         <div class="col-lg-3 col-md-6">
                              <div class="feature-box text-center p-4">
                                   <div class="feature-icon mb-3">
                                        <i class="fas fa-shipping-fast fa-3x text-primary"></i>
                                   </div>
                                   <h4 class="fw-bold">Giao h√†ng nhanh</h4>
                                   <p class="text-muted mb-0">Giao h√†ng to√†n qu·ªëc trong 2-3 ng√†y</p>
                              </div>
                         </div>
                         <div class="col-lg-3 col-md-6">
                              <div class="feature-box text-center p-4">
                                   <div class="feature-icon mb-3">
                                        <i class="fas fa-shield-alt fa-3x text-success"></i>
                                   </div>
                                   <h4 class="fw-bold">B·∫£o m·∫≠t thanh to√°n</h4>
                                   <p class="text-muted mb-0">Th√¥ng tin ƒë∆∞·ª£c b·∫£o m·∫≠t tuy·ªát ƒë·ªëi</p>
                              </div>
                         </div>
                         <div class="col-lg-3 col-md-6">
                              <div class="feature-box text-center p-4">
                                   <div class="feature-icon mb-3">
                                        <i class="fas fa-undo-alt fa-3x text-warning"></i>
                                   </div>
                                   <h4 class="fw-bold">ƒê·ªïi tr·∫£ d·ªÖ d√†ng</h4>
                                   <p class="text-muted mb-0">ƒê·ªïi tr·∫£ trong v√≤ng 7 ng√†y</p>
                              </div>
                         </div>
                         <div class="col-lg-3 col-md-6">
                              <div class="feature-box text-center p-4">
                                   <div class="feature-icon mb-3">
                                        <i class="fas fa-headset fa-3x text-danger"></i>
                                   </div>
                                   <h4 class="fw-bold">H·ªó tr·ª£ 24/7</h4>
                                   <p class="text-muted mb-0">ƒê·ªôi ng≈© t∆∞ v·∫•n lu√¥n s·∫µn s√†ng</p>
                              </div>
                         </div>
                    </div>
               </div>
          </section>

          <!-- Newsletter Section -->
          <section class="newsletter-section py-5 bg-dark text-white">
               <div class="container">
                    <div class="row align-items-center">
                         <div class="col-md-6 mb-4 mb-md-0">
                              <h3 class="fw-bold mb-2">ƒêƒÉng k√Ω nh·∫≠n tin khuy·∫øn m√£i</h3>
                              <p class="mb-0">Nh·∫≠n th√¥ng tin v·ªÅ s·∫£n ph·∫©m m·ªõi v√† ∆∞u ƒë√£i ƒë·∫∑c bi·ªát</p>
                         </div>
                         <div class="col-md-6">
                              <form class="newsletter-form">
                                   <div class="input-group input-group-lg">
                                        <input
                                             type="email"
                                             class="form-control"
                                             placeholder="Nh·∫≠p email c·ªßa b·∫°n"
                                        />
                                        <button class="btn btn-primary px-4" type="submit">
                                             <i class="fas fa-paper-plane me-2"></i>ƒêƒÉng k√Ω
                                        </button>
                                   </div>
                              </form>
                         </div>
                    </div>
               </div>
          </section>
          <th:block th:replace="~{fragments/footer :: footer}"></th:block>
     </body>
</html>
